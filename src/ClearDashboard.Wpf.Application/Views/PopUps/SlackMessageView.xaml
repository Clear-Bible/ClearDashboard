<Window
    x:Class="ClearDashboard.Wpf.Application.Views.PopUps.SlackMessageView"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:helpers="clr-namespace:ClearDashboard.Wpf.Application.Helpers;assembly=ClearDashboard.Wpf.Application.Abstractions"
    xmlns:iconPacks="http://metro.mahapps.com/winfx/xaml/iconpacks"
    xmlns:local="clr-namespace:ClearDashboard.Wpf.Application.Views.PopUps"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:resx="clr-namespace:ClearDashboard.Wpf.Application.Strings;assembly=ClearDashboard.Wpf.Application.Abstractions"
    Title="SlackMessageView"
    Width="500"
    Height="300"
    helpers:Translation.ResourceManager="{x:Static resx:Resources.ResourceManager}"
    mc:Ignorable="d">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="50" />
            <RowDefinition Height="*" />
            <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>

        <!--  Row 0  -->
        <StackPanel
            Grid.Row="0"
            Orientation="Horizontal"
            Visibility="{Binding NoInternetVisibility}">

            <iconPacks:PackIconUnicons
                Width="35"
                Height="35"
                Foreground="{StaticResource RedMidBrush}"
                Kind="Wifi" />

            <TextBlock
                Margin="5"
                VerticalAlignment="Center"
                FontSize="18"
                Foreground="{StaticResource RedMidBrush}"
                Text="{helpers:Localization SlackMessageView_NoInternet}" />
        </StackPanel>

        <!--  Row 1  -->
        <StackPanel Grid.Row="1" Orientation="Vertical">
            <TextBlock
                Height="45"
                Margin="10,0,0,5"
                VerticalAlignment="Bottom"
                FontSize="18"
                Foreground="{StaticResource SecondaryHueMidBrush}"
                Text="{Binding WorkingMessage}" />

            <TextBlock
                Margin="10,0,0,5"
                VerticalAlignment="Bottom"
                FontSize="18"
                Text="{helpers:Localization SlackMessageView_Message}" />
        </StackPanel>

        <!--  Row 2  -->
        <TextBox
            Grid.Row="2"
            Margin="10,0,10,10"
            AcceptsReturn="True"
            BorderBrush="{StaticResource PrimaryHueDarkBrush}"
            BorderThickness="2"
            FontSize="16"
            Foreground="{StaticResource SecondaryHueDarkForegroundBrush}"
            SpellCheck.IsEnabled="True"
            Text="{Binding UserMessage}"
            TextWrapping="Wrap" />

        <!--  Row 3  -->

        <Grid Grid.Row="3">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="*" />
            </Grid.ColumnDefinitions>


            <iconPacks:PackIconUnicons
                Grid.Column="0"
                Width="36"
                Height="36"
                Margin="20,0,50,0"
                VerticalAlignment="Center"
                Foreground="{StaticResource RedMidBrush}"
                Kind="EnvelopeExclamation">
                <iconPacks:PackIconUnicons.Style>
                    <Style TargetType="iconPacks:PackIconUnicons">
                        <Setter Property="Visibility" Value="Visible" />
                        <Style.Triggers>
                            <DataTrigger Binding="{Binding SendErrorVisibility}" Value="Collapsed">
                                <Setter Property="Visibility" Value="Collapsed" />
                            </DataTrigger>
                        </Style.Triggers>
                    </Style>
                </iconPacks:PackIconUnicons.Style>
            </iconPacks:PackIconUnicons>

            <iconPacks:PackIconUnicons
                Grid.Column="0"
                Width="36"
                Height="36"
                Margin="20,0,50,0"
                VerticalAlignment="Center"
                Foreground="{StaticResource GreenMidBrush}"
                Kind="EnvelopeCheck">
                <iconPacks:PackIconUnicons.Style>
                    <Style TargetType="iconPacks:PackIconUnicons">
                        <Setter Property="Visibility" Value="Visible" />
                        <Style.Triggers>
                            <DataTrigger Binding="{Binding SendSuccessfulVisibility}" Value="Collapsed">
                                <Setter Property="Visibility" Value="Collapsed" />
                            </DataTrigger>
                        </Style.Triggers>
                    </Style>
                </iconPacks:PackIconUnicons.Style>
            </iconPacks:PackIconUnicons>


            <Button
                x:Name="SendMessage"
                Grid.Column="2"
                Width="Auto"
                Margin="10,0,10,10"
                HorizontalAlignment="Center"
                Content="{helpers:Localization SlackMessageView_Send}">
                <Button.Style>
                    <Style BasedOn="{StaticResource TransparentStyle}" TargetType="Button">
                        <Setter Property="IsEnabled" Value="True" />
                        <Setter Property="Visibility" Value="Collapsed" />
                        <Style.Triggers>
                            <DataTrigger Binding="{Binding NoInternetVisibility}" Value="Visible">
                                <Setter Property="IsEnabled" Value="False" />
                            </DataTrigger>
                            <DataTrigger Binding="{Binding SendErrorVisibility}" Value="Visible">
                                <Setter Property="IsEnabled" Value="False" />
                            </DataTrigger>
                            <DataTrigger Binding="{Binding SendSuccessfulVisibility}" Value="Visible">
                                <Setter Property="IsEnabled" Value="False" />
                            </DataTrigger>
                            <DataTrigger Binding="{Binding ShowOkButton}" Value="Visible">
                                <Setter Property="Visibility" Value="Visible" />
                            </DataTrigger>
                        </Style.Triggers>
                    </Style>
                </Button.Style>
            </Button>
        </Grid>
    </Grid>
</Window>

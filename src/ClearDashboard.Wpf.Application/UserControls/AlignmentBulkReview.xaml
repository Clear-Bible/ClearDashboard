<UserControl x:Class="ClearDashboard.Wpf.Application.UserControls.AlignmentBulkReview"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
             xmlns:a="clr-namespace:ClearDashboard.Wpf.Application.Models.EnhancedView;assembly=ClearDashboard.Wpf.Application.Abstractions"
             xmlns:cm="http://caliburnmicro.com"
             xmlns:helpers="clr-namespace:ClearDashboard.Wpf.Application.Helpers;assembly=ClearDashboard.Wpf.Application.Abstractions"
             xmlns:resx="clr-namespace:ClearDashboard.Wpf.Application.Strings"
             helpers:Translation.ResourceManager="{x:Static resx:Resources.ResourceManager}"
             mc:Ignorable="d" 
             d:DesignHeight="450" d:DesignWidth="800">

    <Grid >
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width=".4*" ></ColumnDefinition>
            <ColumnDefinition Width=".6*" ></ColumnDefinition>
            <ColumnDefinition Width="*" ></ColumnDefinition>
        </Grid.ColumnDefinitions>

        <materialDesign:Card Grid.Column="0" Height="300" Margin="5">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto" ></RowDefinition>
                    <RowDefinition Height="*"></RowDefinition>
                </Grid.RowDefinitions>
                <Grid Grid.Row="0">
                    <ListBox Style="{StaticResource MaterialDesignToolToggleListBox}" Margin="4"  SelectedIndex="0" SelectionMode="Single"  cm:Message.Attach="[Event SelectionChanged] = [Action OnPivotWordSourceChanged($eventArgs)]">
                        <ListBoxItem Content="{helpers:Localization BulkAlignmentReview_Source}" Tag="{x:Static a:BulkAlignmentReviewTags.Source}"></ListBoxItem>
                        <ListBoxItem Content="{helpers:Localization BulkAlignmentReview_Target}" Tag="{x:Static a:BulkAlignmentReviewTags.Target}"></ListBoxItem>
                    </ListBox>
                    <Label Content="{helpers:Localization BulkAlignmentReview_PivotedWords}" FontSize="10" Foreground="{StaticResource MahApps.Brushes.SystemControlForegroundAccent}" HorizontalAlignment="Right" Margin="5"></Label>
                </Grid>
                <DataGrid Grid.Row="1" Name="PivotedWordsDataGrid" 
                          ItemsSource="{Binding PivotWords}" 
                          AutoGenerateColumns="False" 
                          Margin="4"
                          VirtualizingPanel.IsVirtualizingWhenGrouping="True"
                          VirtualizingPanel.VirtualizationMode="Recycling"
                          VirtualizingPanel.IsVirtualizing="True"
                          SelectionMode="Single"
                          SelectionUnit="FullRow"
                          ScrollViewer.CanContentScroll="True"
                          ScrollViewer.VerticalScrollBarVisibility="Visible"
                          IsReadOnly="True">
                    <DataGrid.Columns>
                        <DataGridTextColumn Header="{helpers:Localization BulkAlignmentReview_Count}"  Binding="{Binding Count}" Width="100"/>
                        <DataGridTextColumn Header="{helpers:Localization BulkAlignmentReview_Part}"  Binding="{Binding Word}"  Width="100" />
                    </DataGrid.Columns>
                </DataGrid>
            </Grid>
        </materialDesign:Card>
        <materialDesign:Card Grid.Column="1" Height="300" Margin="5">
            <StackPanel Orientation="Vertical">
                <Grid>
                    <ListBox Style="{StaticResource MaterialDesignToolToggleListBox}" Margin="4" SelectedIndex="0">
                        <ListBoxItem Content="{helpers:Localization BulkAlignmentReview_Machine}" Tag="{x:Static a:BulkAlignmentReviewTags.Machine}"></ListBoxItem>
                        <ListBoxItem Content="{helpers:Localization BulkAlignmentReview_NeedsReview}" Tag="{x:Static a:BulkAlignmentReviewTags.NeedsReview}"></ListBoxItem>
                        <ListBoxItem Content="{helpers:Localization BulkAlignmentReview_Disapprove}" Tag="{x:Static a:BulkAlignmentReviewTags.Disapproved}"></ListBoxItem>
                        <ListBoxItem Content="{helpers:Localization BulkAlignmentReview_Approve}" Tag="{x:Static a:BulkAlignmentReviewTags.Approved}"></ListBoxItem>
                    </ListBox>
                    <Label Content="{helpers:Localization BulkAlignmentReview_AlignedWords}" FontSize="10" Foreground="{StaticResource MahApps.Brushes.SystemControlForegroundAccent}" HorizontalAlignment="Right" Margin="5"></Label>
                </Grid>
                <DataGrid Name="SourceTargetCountDataGrid" ItemsSource="{Binding PivotedWords}" AutoGenerateColumns="False" Margin="4">
                    <DataGrid.Columns>
                        <DataGridTextColumn Header="{helpers:Localization BulkAlignmentReview_Count}"  />
                        <DataGridTextColumn Header="{helpers:Localization BulkAlignmentReview_SourcePart}"  />
                        <DataGridTextColumn Header="{helpers:Localization BulkAlignmentReview_TargetPart}"  />
                    </DataGrid.Columns>
                </DataGrid>
            </StackPanel>
        </materialDesign:Card>
        <materialDesign:Card Grid.Column="2" Height="300" Margin="5">
            <StackPanel Orientation="Vertical">
                <Grid>
                    <ListBox Style="{StaticResource MaterialDesignToolToggleListBox}" Margin="4" SelectedIndex="0">
                        <ListBoxItem Content="{helpers:Localization BulkAlignmentReview_ApproveSelected}" Tag="{x:Static a:BulkAlignmentReviewTags.ApproveSelected}"></ListBoxItem>
                        <ListBoxItem Content="{helpers:Localization BulkAlignmentReview_DisapproveSelected}" Tag="{x:Static a:BulkAlignmentReviewTags.DisapproveSelected}"></ListBoxItem>
                        <ListBoxItem Content="{helpers:Localization BulkAlignmentReview_MarkSelectedAsNeedsReview}" Tag="{x:Static a:BulkAlignmentReviewTags.MarkSelectedAsNeedsReview}"></ListBoxItem>
                    </ListBox>
                    <Label Content="{helpers:Localization BulkAlignmentReview_Alignments}" FontSize="10" Foreground="{StaticResource MahApps.Brushes.SystemControlForegroundAccent}"  HorizontalAlignment="Right" Margin="5"></Label>
                </Grid>
                <DataGrid Name="ApprovalDataGrid" ItemsSource="{Binding PivotedWords}" AutoGenerateColumns="False" Margin="4">
                    <DataGrid.Columns>
                        <DataGridTemplateColumn>
                            <DataGridTemplateColumn.HeaderTemplate>
                                <DataTemplate>
                                    <CheckBox  />
                                    <!--IsChecked="{Binding
                                            RelativeSource={RelativeSource AncestorType={x:Type DataGrid}},
                                            Path=DataContext.AllItemsAreChecked}"-->
                                </DataTemplate>
                            </DataGridTemplateColumn.HeaderTemplate>
                            <DataGridTemplateColumn.CellTemplate>
                                <DataTemplate>
                                    <!--DataType="{x:Type local:SomeType}"-->
                                    <CheckBox Focusable="False" IsChecked="{Binding Path=IsSelected, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"  
                                                      HorizontalAlignment="Left" VerticalAlignment="Center"/>
                                </DataTemplate>
                            </DataGridTemplateColumn.CellTemplate>
                        </DataGridTemplateColumn>
                        <DataGridTextColumn Header="{helpers:Localization BulkAlignmentReview_Type}"  />
                        <DataGridTextColumn Header="{helpers:Localization BulkAlignmentReview_SourceRef}"  />
                        <DataGridTextColumn Header="{helpers:Localization BulkAlignmentReview_VerseText}"  />
                    </DataGrid.Columns>
                </DataGrid>
            </StackPanel>
        </materialDesign:Card>
    </Grid>

</UserControl>

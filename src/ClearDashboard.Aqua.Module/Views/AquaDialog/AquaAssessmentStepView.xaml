<UserControl
    x:Class="ClearDashboard.Aqua.Module.Views.AquaDialog.AquaAssessmentStepView"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:helpers="clr-namespace:ClearDashboard.Wpf.Application.Helpers;assembly=ClearDashboard.Wpf.Application.Abstractions"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    helpers:Translation.ResourceManager="{x:Static resx:Resources.ResourceManager}"
    xmlns:resx="clr-namespace:ClearDashboard.Aqua.Module.Strings"
    xmlns:aqua="clr-namespace:ClearDashboard.Aqua.Module.ViewModels.AquaDialog"
    xmlns:converters="clr-namespace:ClearDashboard.Aqua.Module.Converters"
    xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
    xmlns:controls1="clr-namespace:DotNetKit.Windows.Controls;assembly=DotNetKit.Wpf.AutoCompleteComboBox"
    d:DataContext="{d:DesignInstance Type=aqua:AquaAssessmentStepViewModel,
                                     IsDesignTimeCreatable=True}"
    d:DesignHeight="450"
    d:DesignWidth="800"
    Background="{DynamicResource MaterialDesignPaper}"
    FlowDirection="{Binding WindowFlowDirection}"
    FontFamily="{DynamicResource MaterialDesignFont}"
    mc:Ignorable="d">
    <UserControl.Resources>
        <ResourceDictionary>
        <ResourceDictionary.MergedDictionaries>
            
            <ResourceDictionary Source="../../Style/AquaStyles.xaml"></ResourceDictionary>
        </ResourceDictionary.MergedDictionaries>
     
        </ResourceDictionary>
    </UserControl.Resources>
    <Grid Margin="15,0">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
        </Grid.RowDefinitions>

        <materialDesign:Card  Grid.Row="0" Height="200" Margin="0,10,0,0">
            <StackPanel

                Margin="10,20"
            VerticalAlignment="Top"
            Orientation="Vertical">
                <!--<TextBox x:Name="ModalSuffix"
                         materialDesign:HintAssist.FloatingScale="0.60"
                         materialDesign:HintAssist.Foreground="{DynamicResource MaterialDesignBody}"
                         materialDesign:HintAssist.Hint="{helpers:Localization Aqua_Assessment_ModalSuffix}"
                         materialDesign:TextFieldAssist.TextBoxViewMargin="1 0 1 0"
                         Foreground="{DynamicResource MaterialDesignBody}"
                         Style="{StaticResource MaterialDesignFloatingHintTextBox}">
                <TextBox.Text>
                    <Binding
                            Mode="TwoWay"
                            Path="ModalSuffix"
                            UpdateSourceTrigger="PropertyChanged"
                            ValidatesOnDataErrors="True" />
                </TextBox.Text>
                <Validation.ErrorTemplate>
                    <ControlTemplate>
                        <StackPanel Orientation="Vertical">
                            <AdornedElementPlaceholder />
                            <TextBlock
                                    MaxWidth="400"
                                    Margin="10"
                                    FontSize="16"
                                    Foreground="{DynamicResource MaterialDesignValidationErrorBrush}"
                                    Text="{Binding [0].ErrorContent}"
                                    TextWrapping="Wrap" />
                        </StackPanel>
                    </ControlTemplate>
                </Validation.ErrorTemplate>

            </TextBox>-->
                <Label Content="{helpers:Localization Aqua_Assessment_AddAssessment}"></Label>
                <controls1:AutoCompleteComboBox
                    ScrollViewer.CanContentScroll="True"
                    FontSize="16"
                    Margin="0,5,0,0"
                    ItemsSource="{Binding Types}"
                    SelectedItem="{Binding Type}"
                    materialDesign:HintAssist.Hint="{helpers:Localization Aqua_Assessment_Type}"
                    IsEnabled="{Binding ParentViewModel.IsBusy, Converter={StaticResource BooleanInversionConverter}}"
                    Style="{StaticResource MaterialDesignFilledComboBox}">
                    <!--<controls1:AutoCompleteComboBox.ItemTemplate>
                        <DataTemplate>
                            <StackPanel Orientation="Vertical">
                                <TextBlock FontSize="12" Text="{Binding CorpusTypeDisplay}" />
                                <TextBlock FontSize="24" Text="{Binding Name}" />
                                <TextBlock FontSize="12" Text="{Binding LongName}" />
                                <TextBlock FontSize="10" Text="{Binding Id}" />
                            </StackPanel>
                        </DataTemplate>
                    </controls1:AutoCompleteComboBox.ItemTemplate>-->
                </controls1:AutoCompleteComboBox>
                <controls1:AutoCompleteComboBox
                    x:Name="revisions"
                    ScrollViewer.CanContentScroll="True"
                    FontSize="16"
                    Margin="0,5,0,0"
                    ItemsSource="{Binding Revisions}"
                    materialDesign:HintAssist.Hint="{helpers:Localization Aqua_Assessment_RevisionId}"
                    SelectedItem="{Binding Revision}"
                    Style="{StaticResource MaterialDesignFilledComboBox}">
                    <controls1:AutoCompleteComboBox.IsEnabled>
                        <MultiBinding Converter="{StaticResource BooleanAndConverter}">
                            <Binding Path="ParentViewModel.IsBusy" Converter="{StaticResource BooleanInversionConverter}"/>
                            <Binding Path="RevisionEnabled"/>
                        </MultiBinding>
                    </controls1:AutoCompleteComboBox.IsEnabled>
                    <controls1:AutoCompleteComboBox.ItemTemplate>
                        <DataTemplate>
                            <StackPanel Orientation="Vertical">
                                <TextBlock FontSize="24" Text="{Binding name}" />
                                <TextBlock FontSize="10" Text="{Binding id}" />
                            </StackPanel>
                        </DataTemplate>
                    </controls1:AutoCompleteComboBox.ItemTemplate>
                </controls1:AutoCompleteComboBox>
            </StackPanel>

        </materialDesign:Card>

        <StackPanel
            Grid.Row="1"
            Grid.Column="0"
            Margin="5"
            HorizontalAlignment="Right"
            VerticalAlignment="Bottom"
            Orientation="Horizontal">
            <Button
                x:Name="AddAssessment"
                Content="{helpers:Localization Aqua_Assessment_AddAssessment}"
                IsDefault="False"
                IsEnabled="{Binding ParentViewModel.IsBusy, Converter={StaticResource BooleanInversionConverter}}"
                Style="{StaticResource TransparentStyle}" />
            <Button
                x:Name="MoveBackwards"
                Content="{helpers:Localization Aqua_Assessment_Back}"
                IsDefault="True"
                IsEnabled="{Binding ParentViewModel.IsBusy, Converter={StaticResource BooleanInversionConverter}}"
                Style="{StaticResource TransparentStyle}" />
        </StackPanel>
    </Grid>
</UserControl>

<Page
    x:Class="ClearDashboard.Wpf.Views.WorkSpaceView"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:converters="clr-namespace:ClearDashboard.Wpf.Converters"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:local="clr-namespace:ClearDashboard.Wpf.Views"
    xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:system="clr-namespace:System;assembly=System.Runtime"
    xmlns:viewModels="clr-namespace:ClearDashboard.Wpf.ViewModels"
    xmlns:models="clr-namespace:ClearDashboard.Wpf.ViewModels.Menus"
    xmlns:panes="clr-namespace:ClearDashboard.Wpf.Views.Panes"
    x:Uid="Page_1"
    Title="WorkSpaceView"
    d:DataContext="{d:DesignInstance Type=viewModels:WorkSpaceViewModel,
                                     IsDesignTimeCreatable=True}"
    d:DesignHeight="450"
    d:DesignWidth="800"
    Background="{DynamicResource MaterialDesignPaper}"
    FontFamily="{DynamicResource MaterialDesignFont}"
    Loaded="Page_Loaded"
    TextElement.FontSize="13"
    TextElement.FontWeight="Regular"
    TextElement.Foreground="{DynamicResource MaterialDesignBody}"
    TextOptions.TextFormattingMode="Ideal"
    TextOptions.TextRenderingMode="Auto"
    mc:Ignorable="d">
    <Page.Resources>
        <converters:ActiveDocumentConverter x:Key="ActiveDocumentConverter" />
        <system:Boolean x:Key="TRUE">True</system:Boolean>
        <system:Boolean x:Key="FALSE">False</system:Boolean>
        <converters:BoolToVisibilityConverter x:Key="BoolToVisibilityConverter" />
    </Page.Resources>

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
        </Grid.RowDefinitions>

        <StackPanel Grid.Row="0" Orientation="Horizontal">
            <Button
                Margin="5,5,0,0"
                Padding="3"
                HorizontalAlignment="Left"
                VerticalAlignment="Top"
                BorderThickness="0"
                Command="NavigationCommands.BrowseBack">
                <materialDesign:PackIcon Kind="ChevronLeft" />
            </Button>

            <WrapPanel Margin="5,0,0,0">
                <Menu VerticalAlignment="Center">
                    <MenuItem Header="Layout">
                        <MenuItem
                            Click="MenuItem_Click"
                            Header="Load"
                            Icon=""
                            Tag="Load" />
                        <MenuItem
                            Click="MenuItem_Click"
                            Header="Save"
                            Icon=""
                            Tag="Save" />
                    </MenuItem>
                </Menu>
                <Menu VerticalAlignment="Center">
                    <MenuItem Header="Windows">
                        <MenuItem
                            Click="MenuItem_Click"
                            Header="Biblical Terms"
                            Icon=""
                            Tag="BiblicalTerms" />
                    </MenuItem>
                </Menu>
                <ComboBox
                    VerticalContentAlignment="Center"
                    DisplayMemberPath="Item1"
                    ItemsSource="{Binding Themes}"
                    SelectedItem="{Binding SelectedTheme}" />
            </WrapPanel>


            <Menu ItemsSource="{Binding MenuItems}">
                <Menu.ItemContainerStyle>
                    <Style TargetType="{x:Type MenuItem}">
                        <Setter Property="Icon" Value="{Binding IconSource}" />
                        <Setter Property="Command" Value="{Binding Command}" />
                    </Style>
                </Menu.ItemContainerStyle>

                <Menu.ItemTemplate>
                    <HierarchicalDataTemplate DataType="{x:Type models:MenuItemViewModel}" ItemsSource="{Binding Path=MenuItems}">
                        <TextBlock
                            Margin="0,10,0,0"
                            VerticalAlignment="Center"
                            Foreground="{DynamicResource PrimaryHueDarkBrush}"
                            Text="{Binding Header}" />
                    </HierarchicalDataTemplate>
                </Menu.ItemTemplate>
            </Menu>

        </StackPanel>


        <!--  AnchorablesSource="{Binding Tools}" DocumentsSource="{Binding Files}"  -->
        <DockingManager
            x:Name="dockManager"
            Grid.Row="1"
            ActiveContent="{Binding ActiveDocument, Mode=TwoWay, Converter={StaticResource ActiveDocumentConverter}}"
            AllowMixedOrientation="True"
            AnchorablesSource="{Binding Tools}"
            DocumentsSource="{Binding Files}"
            Theme="{Binding SelectedTheme.Item2}">
            <DockingManager.LayoutItemTemplateSelector>
                <panes:PanesTemplateSelector x:Uid="userControls:PanesTemplateSelector_1">
                    <!--  DOCUMENTS  -->
                    <panes:PanesTemplateSelector.ConcordanceViewTemplate>
                        <DataTemplate x:Uid="DataTemplate_1">
                            <local:Concordance x:Uid="local:Concordance_1" />
                        </DataTemplate>
                    </panes:PanesTemplateSelector.ConcordanceViewTemplate>

                    <panes:PanesTemplateSelector.DashboardViewTemplate>
                        <DataTemplate x:Uid="DataTemplate_2">
                            <local:DashboardView x:Uid="local:Dashboard_1" />
                        </DataTemplate>
                    </panes:PanesTemplateSelector.DashboardViewTemplate>

                    <panes:PanesTemplateSelector.AlignmentToolViewTemplate>
                        <DataTemplate x:Uid="DataTemplate_3">
                            <local:AlignmentTool x:Uid="local:AlignmentTool_1" />
                        </DataTemplate>
                    </panes:PanesTemplateSelector.AlignmentToolViewTemplate>

                    <panes:PanesTemplateSelector.TreeDownViewTemplate>
                        <DataTemplate x:Uid="DataTemplate_4">
                            <local:TreeDownView x:Uid="local:TreeDown_1" />
                        </DataTemplate>
                    </panes:PanesTemplateSelector.TreeDownViewTemplate>

                    <panes:PanesTemplateSelector.StartPageViewTemplate>
                        <DataTemplate x:Uid="DataTemplate_5">
                            <local:StartPageView x:Uid="local:StartPage_1" />
                        </DataTemplate>
                    </panes:PanesTemplateSelector.StartPageViewTemplate>

                    <!--  TOOLS  -->
                    <panes:PanesTemplateSelector.BiblicalTermsViewTemplate>
                        <DataTemplate x:Uid="DataTemplate_6">
                            <local:BiblicalTerms x:Uid="local:BiblicalTerms_1" />
                        </DataTemplate>
                    </panes:PanesTemplateSelector.BiblicalTermsViewTemplate>

                    <panes:PanesTemplateSelector.WordMeaningsViewTemplate>
                        <DataTemplate x:Uid="DataTemplate_7">
                            <local:WordMeaningsView x:Uid="local:WordMeanings_1" />
                        </DataTemplate>
                    </panes:PanesTemplateSelector.WordMeaningsViewTemplate>

                    <panes:PanesTemplateSelector.SourceContextViewTemplate>
                        <DataTemplate x:Uid="DataTemplate_8">
                            <local:SourceContextView x:Uid="local:SourceContext_1" />
                        </DataTemplate>
                    </panes:PanesTemplateSelector.SourceContextViewTemplate>

                    <panes:PanesTemplateSelector.TargetContextViewTemplate>
                        <DataTemplate x:Uid="DataTemplate_9">
                            <local:TargetContextView x:Uid="local:TargetContext_1" />
                        </DataTemplate>
                    </panes:PanesTemplateSelector.TargetContextViewTemplate>

                    <panes:PanesTemplateSelector.NotesViewTemplate>
                        <DataTemplate x:Uid="DataTemplate_10">
                            <local:NotesView x:Uid="local:Notes_1" />
                        </DataTemplate>
                    </panes:PanesTemplateSelector.NotesViewTemplate>

                    <panes:PanesTemplateSelector.PinsViewTemplate>
                        <DataTemplate x:Uid="DataTemplate_11">
                            <local:PinsView x:Uid="local:PINS_1" />
                        </DataTemplate>
                    </panes:PanesTemplateSelector.PinsViewTemplate>

                    <panes:PanesTemplateSelector.TextCollectionViewTemplate>
                        <DataTemplate x:Uid="DataTemplate_12">
                            <local:TextCollectionsView x:Uid="local:TextCollections_1" />
                        </DataTemplate>
                    </panes:PanesTemplateSelector.TextCollectionViewTemplate>

                </panes:PanesTemplateSelector>
            </DockingManager.LayoutItemTemplateSelector>

            <DockingManager.LayoutItemContainerStyleSelector>
                <panes:PanesStyleSelector x:Uid="userControls:PanesStyleSelector_1">
                    <!--  DOCUMENTS  -->
                    <panes:PanesStyleSelector.DocumentStyle>
                        <Style x:Uid="Style_2" TargetType="{x:Type LayoutItem}">
                            <Setter x:Uid="Setter_3" Property="Title" Value="{Binding Model.Title}" />
                            <Setter x:Uid="Setter_4" Property="IconSource" Value="{Binding Model.IconSource}" />
                            <Setter x:Uid="Setter_5" Property="ContentId" Value="{Binding Model.ContentId}" />
                        </Style>
                    </panes:PanesStyleSelector.DocumentStyle>

                    <!--  TOOLS  -->
                    <panes:PanesStyleSelector.ToolStyle>
                        <Style x:Uid="Style_3" TargetType="{x:Type LayoutAnchorableItem}">
                            <Setter x:Uid="Setter_6" Property="Title" Value="{Binding Model.Title}" />
                            <Setter x:Uid="Setter_7" Property="CanClose" Value="True" />
                            <Setter x:Uid="Setter_8" Property="IconSource" Value="{Binding Model.IconSource}" />
                            <Setter x:Uid="Setter_9" Property="Visibility" Value="{Binding Model.IsVisible, Mode=TwoWay, Converter={StaticResource BoolToVisibilityConverter}, ConverterParameter={StaticResource FALSE}}" />
                            <Setter x:Uid="Setter_10" Property="ContentId" Value="{Binding Model.ContentId}" />
                            <Setter x:Uid="Setter_11" Property="IsSelected" Value="{Binding Model.IsSelected, Mode=TwoWay}" />
                            <Setter x:Uid="Setter_12" Property="IsActive" Value="{Binding Model.IsActive, Mode=TwoWay}" />
                        </Style>
                    </panes:PanesStyleSelector.ToolStyle>

                </panes:PanesStyleSelector>
            </DockingManager.LayoutItemContainerStyleSelector>
            <DockingManager.LayoutUpdateStrategy>
                <panes:LayoutInitializer x:Uid="userControls:LayoutInitializer_1" />
            </DockingManager.LayoutUpdateStrategy>

            <LayoutRoot x:Uid="LayoutRoot_1">
                <LayoutPanel x:Uid="LayoutPanel_1" Orientation="Vertical">
                    <LayoutDocumentPane x:Uid="LayoutDocumentPane_1" />
                    <LayoutAnchorablePane
                        Name="ToolsPane"
                        x:Uid="ToolsPane"
                        DockHeight="150" />
                </LayoutPanel>
            </LayoutRoot>
        </DockingManager>

    </Grid>

</Page>
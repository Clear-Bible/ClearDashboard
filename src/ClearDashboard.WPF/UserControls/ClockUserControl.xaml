<UserControl
    x:Class="ClearDashboard.Wpf.UserControls.ClockUserControl"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:local="clr-namespace:ClearDashboard.Wpf.UserControls"
    xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    d:DesignHeight="450"
    d:DesignWidth="800"
    mc:Ignorable="d">
    <Grid VerticalAlignment="Center" Background="Yellow">
        <Menu
            x:Name="Menu"
            HorizontalAlignment="Stretch"
            VerticalAlignment="Center"
            VerticalContentAlignment="Center"
            Background="DarkRed"
            ItemsSource="{Binding MenuItems}">

            <Menu.ItemContainerStyle>
                <Style x:Name="ItemTemp" TargetType="{x:Type MenuItem}">

                    <Setter Property="HorizontalAlignment" Value="Stretch" />
                    <Setter Property="Background" Value="Aqua" />
                    <Setter Property="Foreground" Value="Black" />
                    <Setter Property="VerticalAlignment" Value="Center" />
                    <Setter Property="VerticalContentAlignment" Value="Center" />
                    <Setter Property="Padding" Value="-30,0,-5,0" />


                    <EventSetter Event="Click" Handler="Utc_OnClick" />


                    <Style.Triggers>
                        <DataTrigger Binding="{Binding Path=MenuLevel}" Value="Display">
                            <Setter Property="Width" Value="153" />
                            <Setter Property="Padding" Value="0,0,0,0" />
                        </DataTrigger>
                        <!--<DataTrigger Binding="{Binding Path=MenuLevel}" Value="Group">
                            <Setter Property="Width" Value="1000" />
                        </DataTrigger>
                        <DataTrigger Binding="{Binding Path=MenuLevel}" Value="Individual">
                            <Setter Property="Width" Value="1000" />
                        </DataTrigger>-->
                        <DataTrigger Binding="{Binding Path=MenuLevel}" Value="Utc">
                            <Setter Property="Width" Value="480" />
                        </DataTrigger>
                    </Style.Triggers>


                </Style>
            </Menu.ItemContainerStyle>
            <Menu.ItemTemplate>
                <HierarchicalDataTemplate DataType="{x:Type local:ClockUserControl}" ItemsSource="{Binding Path=MenuItems}">
                    <Grid HorizontalAlignment="Stretch" Background="Green">
                        <!--  <Grid.ColumnDefinitions>
                            <ColumnDefinition />
                            <ColumnDefinition />
                        </Grid.ColumnDefinitions>

                    Orientation="Horizontal"-->
                        <!-- <DockPanel
                            LastChildFill="true"
                            HorizontalAlignment="Stretch"
                            VerticalAlignment="Center"
                            Background="MediumPurple">
                        </DockPanel>-->

                        <!--<StackPanel
                            Grid.Column="2"
                            HorizontalAlignment="Right"
                            VerticalAlignment="Center"
                            Background="CadetBlue"
                            Orientation="Horizontal">

                        </StackPanel>-->
                        <StackPanel
                            Orientation="Horizontal"
                            Width="{Binding (FrameworkElement.Width), RelativeSource={RelativeSource AncestorType=MenuItem}}"
                            Background="LightSeaGreen">
                            <Button
                                x:Name="DeleteButton"
                                Width="40"
                                Height="22"
                                Margin="2,0,0,0"
                                VerticalAlignment="Center"
                                VerticalContentAlignment="Center"
                                Background="Transparent"
                                Click="DeleteButton_OnClick"
                                Content="-"
                                Visibility="{Binding DeleteButtonVisibility, Mode=TwoWay}" />
                            <Button
                                x:Name="AddButton"
                                Width="40"
                                Height="22"
                                VerticalAlignment="Center"
                                VerticalContentAlignment="Center"
                                Background="Transparent"
                                Click="AddButton_OnClick"
                                Content="+"
                                Tag="{Binding MenuItems, Mode=TwoWay}"
                                Visibility="{Binding ClockAddTimeZoneVisibility}" />
                            <TextBlock
                                x:Name="NameTime"
                                Width="65"
                                VerticalAlignment="Center"
                                Text="{Binding NameTime}"
                                TextAlignment="Right"
                                Visibility="{Binding NameTimeVisibility}" />
                            <TextBox
                                Width="200"
                                VerticalAlignment="Center"
                                HorizontalContentAlignment="Center"
                                VerticalContentAlignment="Center"
                                Background="Gray"
                                CaretBrush="AliceBlue"
                                LostFocus="TextBox_OnLostFocus"
                                Text="{Binding TextBoxText}"
                                Visibility="{Binding ClockTextBoxVisibility}" />
                            <TextBlock
                                x:Name="Utc"
                                Width="{Binding (FrameworkElement.Width), RelativeSource={RelativeSource AncestorType=MenuItem}}"
                                VerticalAlignment="Center"
                                Text="{Binding ClockTextBlockText, Mode=TwoWay}"
                                Visibility="{Binding ClockTextBlockVisibility}" />
                            <CheckBox
                                VerticalAlignment="Center"
                                VerticalContentAlignment="Center"
                                Background="DarkGoldenrod"
                                Checked="CheckBoxChanged"
                                IsChecked="{Binding CheckBoxIsChecked, Mode=TwoWay}"
                                Unchecked="CheckBoxChanged"
                                Visibility="{Binding ClockCheckBoxVisibility}" />

                        </StackPanel>

                    </Grid>

                    <!--<StackPanel
                        VerticalAlignment="Center"
                        Background="CadetBlue"
                        Orientation="Horizontal">

                    </StackPanel>-->
                </HierarchicalDataTemplate>
            </Menu.ItemTemplate>
        </Menu>
    </Grid>
</UserControl>
